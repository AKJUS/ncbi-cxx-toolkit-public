#############################################################################
# $Id$
#############################################################################

NCBI_begin_app(dbapi_unit_test)
  NCBI_sources(
    dbapi_unit_test         dbapi_unit_test_object     dbapi_unit_test_lob
    dbapi_unit_test_bcp     dbapi_unit_test_proc       dbapi_unit_test_cursor
    dbapi_unit_test_stmt    dbapi_unit_test_connection dbapi_unit_test_timeout
    dbapi_unit_test_context dbapi_unit_test_msg        dbapi_unit_test_common
  )
  NCBI_set_pch_header(dbapi_unit_test_pch.hpp)
  NCBI_requires(Boost.Test.Included)
  NCBI_optional_components(Sybase ODBC)
  NCBI_uses_toolkit_libraries(
    ncbi_xdbapi_ftds
    ncbi_xdbapi_ftds64 ncbi_xdbapi_ftds95 ncbi_xdbapi_ftds100
    dbapi dbapi_util_blobstore xconnext
  )
  NCBI_project_watchers(ucko satskyse)
NCBI_end_app()

if(OFF)
#
#
#
add_executable(dbapi_unit_test-app
    dbapi_unit_test dbapi_unit_test_object dbapi_unit_test_lob
    dbapi_unit_test_bcp dbapi_unit_test_proc dbapi_unit_test_cursor
    dbapi_unit_test_stmt dbapi_unit_test_connection dbapi_unit_test_timeout
    dbapi_unit_test_context dbapi_unit_test_msg dbapi_unit_test_common
)

set_target_properties(dbapi_unit_test-app PROPERTIES OUTPUT_NAME dbapi_unit_test)



target_link_libraries(dbapi_unit_test-app
    ncbi_xdbapi_ftds ncbi_xdbapi_ftds64 ncbi_xdbapi_ftds95 dbapi
    dbapi_util_blobstore test_boost
    xconnext
)
endif()
